

<div *ngIf="!registred" class="container mt-5 col-3">

  <form  [formGroup]="registerForm"  (ngSubmit)="onRegistration()">
    <h2>Créer un compte</h2>
    <div class="form-group">
      <label for="firstName">Prénom</label>
      <input type="text" class="form-control" id="firstName" formControlName="firstName">
    </div>

    <div class="form-group">
      <label for="lastName">Nom</label>
      <input type="text" class="form-control" id="lastName" formControlName="lastName">
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" formControlName="email" >
      <div *ngIf="f.email.invalid" class="invalid">Cet email n'est pas valide.</div>
      <div *ngIf="invalidEmail" class="invalid">Désolé, cet email est déjà utilisé.</div>
    </div>

    <div class="form-group">
      <label for="register-password">Mot de passe</label>
      <input type="password" class="form-control" id="register-password" formControlName="password">
      <div *ngIf="registerForm.controls.password.invalid" class="invalid">
        Le mot de passe doit avoir au minimum {{f.password.errors.minlength.requiredLength}} caractères !
        {{f.password.errors.minlength.requiredLength - f.password.errors.minlength.actualLength}} restant(s).</div>
    </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmer le mot de passe</label>
        <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword">
        <div *ngIf="f.password.value != f.confirmPassword.value" class="invalid">Les mots de passes ne correspondent pas !</div>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="registerForm.invalid || loading">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Enregistrer</button>
  </form>

  <button routerLink="/managment" class="quit btn btn-outline-dark ml-5">Fermer</button>

</div>


<div *ngIf="registred"  class="container mt-5 col-3">
  <div>
    <h2>Votre inscription est un succès !</h2>
    <p>Connectez-vous en haut à gauche et bonne gestion !</p>
    <button routerLink="/managment" class="quit-registred btn btn-outline-dark ml-5 mb-2">Fermer</button>
  </div>
</div>


